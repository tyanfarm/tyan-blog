"use strict";(self.webpackChunktyan_blog=self.webpackChunktyan_blog||[]).push([[281],{5809:(s,e,n)=>{n.r(e),n.d(e,{assets:()=>h,contentTitle:()=>c,default:()=>d,frontMatter:()=>t,metadata:()=>a,toc:()=>m});const a=JSON.parse('{"id":"build-llm-from-scratch/attention-mechanisms-01","title":"3. Coding Attention Mechanisms (Part 01)","description":"- C\u01a1 ch\u1ebf attention l\xe0 1 ch\u1ee7 \u0111\u1ec1 r\u1ea5t r\u1ed9ng. Trong ph\u1ea7n n\xe0y, ch\xfang ta s\u1ebd tri\u1ec3n khai 4 bi\u1ebfn th\u1ec3 kh\xe1c nhau c\u1ee7a attention mechanisms nh\u01b0 h\xecnh d\u01b0\u1edbi \u0111\xe2y:","source":"@site/docs/build-llm-from-scratch/attention-mechanisms-01.md","sourceDirName":"build-llm-from-scratch","slug":"/build-llm-from-scratch/attention-mechanisms-01","permalink":"/tyan-blog/docs/build-llm-from-scratch/attention-mechanisms-01","draft":false,"unlisted":false,"editUrl":"https://github.com/tyanfarm/tyan-blog/tree/main/docs/build-llm-from-scratch/attention-mechanisms-01.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"3. Coding Attention Mechanisms (Part 01)"},"sidebar":"tutorialSidebar","previous":{"title":"2. Data Preparation and Sampling","permalink":"/tyan-blog/docs/build-llm-from-scratch/data-preparation-and-sampling"},"next":{"title":"3. Coding Attention Mechanisms (Part 02)","permalink":"/tyan-blog/docs/build-llm-from-scratch/attention-mechanisms-02"}}');var i=n(4848),l=n(8453);const t={sidebar_position:3,title:"3. Coding Attention Mechanisms (Part 01)"},c=void 0,h={},m=[{value:"3.1. Kh\xf3 kh\u0103n trong vi\u1ec7c m\xf4 h\xecnh h\xf3a chu\u1ed7i d\xe0i",id:"31-kh\xf3-kh\u0103n-trong-vi\u1ec7c-m\xf4-h\xecnh-h\xf3a-chu\u1ed7i-d\xe0i",level:2},{value:"3.2. N\u1eafm b\u1eaft c\xe1c quan h\u1ec7 ph\u1ee5 thu\u1ed9c v\u1edbi c\u01a1 ch\u1ebf attention",id:"32-n\u1eafm-b\u1eaft-c\xe1c-quan-h\u1ec7-ph\u1ee5-thu\u1ed9c-v\u1edbi-c\u01a1-ch\u1ebf-attention",level:2}];function r(s){const e={annotation:"annotation",code:"code",em:"em",h2:"h2",img:"img",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",p:"p",semantics:"semantics",span:"span",ul:"ul",...(0,l.R)(),...s.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["C\u01a1 ch\u1ebf ",(0,i.jsx)(e.code,{children:"attention"})," l\xe0 1 ch\u1ee7 \u0111\u1ec1 r\u1ea5t r\u1ed9ng. Trong ph\u1ea7n n\xe0y, ch\xfang ta s\u1ebd tri\u1ec3n khai ",(0,i.jsx)(e.code,{children:"4 bi\u1ebfn th\u1ec3"})," kh\xe1c nhau c\u1ee7a ",(0,i.jsx)(e.em,{children:"attention mechanisms"})," nh\u01b0 h\xecnh d\u01b0\u1edbi \u0111\xe2y:"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"alt",src:n(9188).A+"",width:"1302",height:"402"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["B\u1eaft \u0111\u1ea7u v\u1edbi ",(0,i.jsx)(e.em,{children:"phi\xean b\u1ea3n \u0111\u01a1n gi\u1ea3n c\u1ee7a self-attention"})," (1) tr\u01b0\u1edbc khi ",(0,i.jsx)(e.em,{children:"b\u1ed5 sung c\xe1c weights c\xf3 th\u1ec3 train"})," (2)."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Ti\u1ebfp theo, c\u01a1 ch\u1ebf ",(0,i.jsx)(e.em,{children:"casual attention"})," (3) th\xeam ",(0,i.jsx)(e.code,{children:"1 mask"})," v\xe0o self-attention, cho ph\xe9p LLM sinh t\u1eebng t\u1eeb m\u1ed9t."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Cu\u1ed1i c\xf9ng, ",(0,i.jsx)(e.em,{children:"multi-head attention"}),' t\u1ed5 ch\u1ee9c attention mechanisms th\xe0nh nhi\u1ec1u "head" song song, n\u1eafm b\u1eaft nhi\u1ec1u \u0111\u1eb7c tr\u01b0ng c\u1ee7a input data.']}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"31-kh\xf3-kh\u0103n-trong-vi\u1ec7c-m\xf4-h\xecnh-h\xf3a-chu\u1ed7i-d\xe0i",children:"3.1. Kh\xf3 kh\u0103n trong vi\u1ec7c m\xf4 h\xecnh h\xf3a chu\u1ed7i d\xe0i"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Tr\u01b0\u1edbc khi \u0111i v\xe0o c\u01a1 ch\u1ebf ",(0,i.jsx)(e.code,{children:"self-attention"}),", v\u1ed1n l\xe0 ",(0,i.jsx)(e.em,{children:"core"})," c\u1ee7a LLM, h\xe3y xem v\u1ea5n \u0111\u1ec1 c\u1ee7a c\xe1c ki\u1ebfn tr\xfac ",(0,i.jsx)(e.em,{children:"kh\xf4ng c\xf3 attention"})," xu\u1ea5t hi\u1ec7n tr\u01b0\u1edbc LLM l\xe0 g\xec."]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"alt",src:n(9517).A+"",width:"1168",height:"813"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Gi\u1ea3 s\u1eed ch\xfang ta mu\u1ed1n ph\xe1t tri\u1ec3n m\u1ed9t ",(0,i.jsx)(e.code,{children:"m\xf4 h\xecnh d\u1ecbch ng\xf4n ng\u1eef"}),". Nh\u01b0 h\xecnh tr\xean, ta kh\xf4ng th\u1ec3 ch\u1ec9 \u0111\u01a1n gi\u1ea3n ",(0,i.jsx)(e.em,{children:"d\u1ecbch"})," t\u1eebng t\u1eeb m\u1ed9t t\u1eeb German qua English do kh\xe1c bi\u1ec7t v\u1ec1 ",(0,i.jsx)(e.code,{children:"c\u1ea5u tr\xfac ng\u1eef ph\xe1p"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u0110\u1ec3 gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1 n\xe0y, ng\u01b0\u1eddi ta th\u01b0\u1eddng s\u1eed d\u1ee5ng m\u1ed9t ",(0,i.jsx)(e.code,{children:"m\u1ea1ng neural"})," v\u1edbi ",(0,i.jsx)(e.em,{children:"2 module con"})," ",(0,i.jsx)(e.code,{children:"Encoder v\xe0 Decoder"}),". Nhi\u1ec7m v\u1ee5 c\u1ee7a Encoder l\xe0 ",(0,i.jsx)(e.em,{children:"\u0111\u1ecdc v\xe0 x\u1eed l\xfd to\xe0n b\u1ed9 v\u0103n b\u1ea3n"}),", sau \u0111\xf3 Decoder s\u1ebd ",(0,i.jsx)(e.em,{children:"sinh ra v\u0103n b\u1ea3n d\u1ecbch"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Tr\u01b0\u1edbc khi ",(0,i.jsx)(e.code,{children:"Transformer"})," ra \u0111\u1eddi, M\u1ea1ng n\u01a1-ron h\u1ed3i quy (Recurrent Neural Networks - RNNs) l\xe0 ki\u1ebfn tr\xfac ",(0,i.jsx)(e.code,{children:"encoder-decoder"})," ph\u1ed5 bi\u1ebfn nh\u1ea5t cho ",(0,i.jsx)(e.em,{children:"d\u1ecbch m\xe1y"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Trong 1 ",(0,i.jsx)(e.code,{children:"RNN c\u01a1 b\u1ea3n"})," (1 layer RNN) c\xf3 c\xf4ng th\u1ee9c sau:"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"hidden state"})," ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"h"}),(0,i.jsx)(e.mi,{children:"t"})]}),(0,i.jsx)(e.mo,{children:"="}),(0,i.jsx)(e.mi,{children:"f"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"W"}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mi,{children:"h"})]})]}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mi,{children:"t"})]}),(0,i.jsx)(e.mo,{children:"+"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"W"}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"h"}),(0,i.jsx)(e.mi,{children:"h"})]})]}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"h"}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{children:"\u2212"}),(0,i.jsx)(e.mn,{children:"1"})]})]}),(0,i.jsx)(e.mo,{children:"+"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"b"}),(0,i.jsx)(e.mi,{children:"h"})]}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"h_t = f(W_{xh}x_t + W_{hh}h_{t-1} + b_h)"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.8444em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"h"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2806em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"="}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.10764em"},children:"f"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"W"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3361em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"x"}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"h"})]})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2806em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"+"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.9028em",verticalAlign:"-0.2083em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"W"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3361em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"hh"})})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"h"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"}),(0,i.jsx)(e.span,{className:"mbin mtight",children:"\u2212"}),(0,i.jsx)(e.span,{className:"mord mtight",children:"1"})]})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2083em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"+"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"b"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3361em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"h"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})]})]}),", v\u1edbi:"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"h"}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{children:"\u2212"}),(0,i.jsx)(e.mn,{children:"1"})]})]})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"h_{t-1}"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.9028em",verticalAlign:"-0.2083em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"h"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"}),(0,i.jsx)(e.span,{className:"mbin mtight",children:"\u2212"}),(0,i.jsx)(e.span,{className:"mord mtight",children:"1"})]})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2083em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]})," l\xe0 ",(0,i.jsx)(e.code,{children:"hidden state"})," c\u1ee7a b\u01b0\u1edbc tr\u01b0\u1edbc;"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mi,{children:"t"})]})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"x_t"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2806em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]})," l\xe0 ",(0,i.jsx)(e.code,{children:"input"})," t\u1ea1i th\u1eddi \u0111i\u1ec3m ",(0,i.jsx)(e.code,{children:"t"}),";"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"h"}),(0,i.jsx)(e.mi,{children:"t"})]})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"h_t"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.8444em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"h"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2806em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]})," l\xe0 ",(0,i.jsx)(e.code,{children:"hidden state"})," t\u1ea1i th\u1eddi \u0111i\u1ec3m ",(0,i.jsx)(e.code,{children:"t"}),";"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"output"})," ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"y"}),(0,i.jsx)(e.mi,{children:"t"})]}),(0,i.jsx)(e.mo,{children:"="}),(0,i.jsx)(e.mi,{children:"g"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"W"}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"h"}),(0,i.jsx)(e.mi,{children:"y"})]})]}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"h"}),(0,i.jsx)(e.mi,{children:"t"})]}),(0,i.jsx)(e.mo,{children:"+"}),(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"b"}),(0,i.jsx)(e.mi,{children:"y"})]}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"y_t = g(W_{hy}h_t + b_y)"})]})})}),(0,i.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2806em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(e.span,{className:"mrel",children:"="}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1.0361em",verticalAlign:"-0.2861em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"g"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"W"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3361em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"h"}),(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"y"})]})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2861em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"h"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2806em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,i.jsx)(e.span,{className:"mbin",children:"+"}),(0,i.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1.0361em",verticalAlign:"-0.2861em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"b"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"y"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2861em"},children:(0,i.jsx)(e.span,{})})})]})})]}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})]})]}),", v\u1edbi:"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"h"}),(0,i.jsx)(e.mi,{children:"t"})]})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"h_t"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.8444em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"h"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2806em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]}),": ",(0,i.jsx)(e.code,{children:"hidden state"})," t\u1ea1i th\u1eddi \u0111i\u1ec3m ",(0,i.jsx)(e.code,{children:"t"}),";"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"g"}),(0,i.jsx)(e.mo,{stretchy:"false",children:"("}),(0,i.jsx)(e.mo,{children:"\u22c5"}),(0,i.jsx)(e.mo,{stretchy:"false",children:")"})]}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"g(\u22c5)"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"g"}),(0,i.jsx)(e.span,{className:"mopen",children:"("}),(0,i.jsx)(e.span,{className:"mord",children:"\u22c5"}),(0,i.jsx)(e.span,{className:"mclose",children:")"})]})})]}),": ",(0,i.jsx)(e.code,{children:"h\xe0m k\xedch ho\u1ea1t"})," (v\xed d\u1ee5 ",(0,i.jsx)(e.em,{children:"softmax"})," n\u1ebfu l\xe0 ",(0,i.jsx)(e.em,{children:"ph\xe2n ph\u1ed1i x\xe1c su\u1ea5t"})," t\u1eeb ti\u1ebfp theo)"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["T\u1eeb c\xf4ng th\u1ee9c tr\xean c\xf3 th\u1ec3 th\u1ea5y r\u1eb1ng, ",(0,i.jsx)(e.code,{children:"\u0111\u1ea7u ra c\u1ee7a b\u01b0\u1edbc tr\u01b0\u1edbc \u0111\u01b0\u1ee3c \u0111\u01b0a tr\u1edf l\u1ea1i l\xe0m \u0111\u1ea7u v\xe0o c\u1ee7a b\u01b0\u1edbc ti\u1ebfp theo"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Trong m\u1ed9t ",(0,i.jsx)(e.code,{children:"encoder-decoder RNN"}),", v\u0103n b\u1ea3n \u0111\u1ea7u v\xe0o \u0111\u01b0\u1ee3c \u0111\u01b0a v\xe0o ",(0,i.jsx)(e.code,{children:"encoder"}),", n\xf3 s\u1ebd x\u1eed l\xfd l\u1ea7n l\u01b0\u1ee3t theo t\u1eebng token. \u1ede m\u1ed7i token, encoder s\u1ebd c\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i \u1ea9n (",(0,i.jsx)(e.code,{children:"hidden state"}),") c\u1ee7a m\xecnh, ",(0,i.jsx)(e.em,{children:"c\u1ed1 g\u1eafng n\xe9n to\xe0n b\u1ed9 input data"})," v\xe0o ",(0,i.jsx)(e.code,{children:"final hidden state"}),". Sau \u0111\xf3, ",(0,i.jsx)(e.code,{children:"decoder"})," s\u1ebd d\xf9ng ",(0,i.jsx)(e.code,{children:"final hidden state"})," n\xe0y \u0111\u1ec3 sinh ra ",(0,i.jsx)(e.code,{children:"c\xe2u d\u1ecbch"}),", t\u1eebng t\u1eeb m\u1ed9t."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Hidden state th\u1ee9 ",(0,i.jsx)(e.code,{children:"t"})," s\u1ebd \u0111\u01b0\u1ee3c t\u1ea1o ra b\u1eb1ng hidden state th\u1ee9 ",(0,i.jsx)(e.code,{children:"t-1"})," v\xe0 token th\u1ee9 ",(0,i.jsx)(e.code,{children:"t-1"})," (c\xf4ng th\u1ee9c th\u1ee9 1, v\u1edbi ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"x"}),(0,i.jsx)(e.mi,{children:"t"})]})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"x_t"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.5806em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",children:"x"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2806em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]})," l\xe0 ",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"y"}),(0,i.jsxs)(e.mrow,{children:[(0,i.jsx)(e.mi,{children:"t"}),(0,i.jsx)(e.mo,{children:"\u2212"}),(0,i.jsx)(e.mn,{children:"1"})]})]})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"y_{t-1}"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.6389em",verticalAlign:"-0.2083em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.3011em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(e.span,{className:"mord mtight",children:[(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"}),(0,i.jsx)(e.span,{className:"mbin mtight",children:"\u2212"}),(0,i.jsx)(e.span,{className:"mord mtight",children:"1"})]})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2083em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]})," \u1edf decoder). Token th\u1ee9 ",(0,i.jsx)(e.code,{children:"t"})," (",(0,i.jsxs)(e.span,{className:"katex",children:[(0,i.jsx)(e.span,{className:"katex-mathml",children:(0,i.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(e.semantics,{children:[(0,i.jsx)(e.mrow,{children:(0,i.jsxs)(e.msub,{children:[(0,i.jsx)(e.mi,{children:"y"}),(0,i.jsx)(e.mi,{children:"t"})]})}),(0,i.jsx)(e.annotation,{encoding:"application/x-tex",children:"y_t"})]})})}),(0,i.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(e.span,{className:"base",children:[(0,i.jsx)(e.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,i.jsxs)(e.span,{className:"mord",children:[(0,i.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,i.jsx)(e.span,{className:"msupsub",children:(0,i.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(e.span,{className:"vlist-r",children:[(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.2806em"},children:(0,i.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,i.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"})})]})}),(0,i.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(e.span,{className:"vlist-r",children:(0,i.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(e.span,{})})})]})})]})]})})]}),") s\u1ebd \u0111\u01b0\u1ee3c t\u1ea1o ra b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng hidden state th\u1ee9 ",(0,i.jsx)(e.code,{children:"t"})," (c\xf4ng th\u1ee9c th\u1ee9 2)"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"alt",src:n(9748).A+"",width:"1647",height:"844"})}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["V\u1ea5n \u0111\u1ec1 c\u1ee7a ",(0,i.jsx)(e.code,{children:"encoder-decoder RNN"})," l\xe0 trong l\xfac ",(0,i.jsx)(e.code,{children:"decoding"}),", RNN kh\xf4ng th\u1ec3 truy c\u1eadp v\xe0o c\xe1c hidden state ph\xeda tr\u01b0\u1edbc m\xe0 ch\u1ec9 d\u1ef1a \u0111\u01b0\u1ee3c v\xe0o ",(0,i.jsx)(e.code,{children:"final hidden state"})," (c\xf3 th\u1ec3 th\u1ea5y r\xf5 t\u1eeb c\xf4ng th\u1ee9c). Do \u0111\xf3, to\xe0n b\u1ed9 input data ch\u1ec9 \u0111\u01b0\u1ee3c n\xe9n v\xe0o 1 vector duy nh\u1ea5t. \u0110i\u1ec1u n\xe0y\r\nd\u1ec5 l\xe0m ",(0,i.jsx)(e.code,{children:"m\u1ea5t m\xe1t th\xf4ng tin"}),", \u0111\u1eb7c bi\u1ec7t v\u1edbi c\xe2u d\xe0i, c\xf3 ph\u1ee9c t\u1ea1p quan h\u1ec7 xa."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"32-n\u1eafm-b\u1eaft-c\xe1c-quan-h\u1ec7-ph\u1ee5-thu\u1ed9c-v\u1edbi-c\u01a1-ch\u1ebf-attention",children:"3.2. N\u1eafm b\u1eaft c\xe1c quan h\u1ec7 ph\u1ee5 thu\u1ed9c v\u1edbi c\u01a1 ch\u1ebf attention"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Sau 3 n\u0103m, ",(0,i.jsx)(e.code,{children:"Transformer"})," g\u1ed1c ra \u0111\u1eddi v\u1edbi c\u01a1 ch\u1ebf ",(0,i.jsx)(e.code,{children:"self-attention"})," l\u1ea5y c\u1ea3m h\u1ee9ng t\u1eeb  v\u1edbi c\u01a1 ch\u1ebf attention"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"RNN"})," c\xf3 nh\u01b0\u1ee3c \u0111i\u1ec3m l\xe0 ",(0,i.jsx)(e.em,{children:"bu\u1ed9c ph\u1ea3i ghi nh\u1edb to\xe0n b\u1ed9 c\xe2u \u0111\xe3 m\xe3 h\xf3a ch\u1ec9 trong 1 hidden state duy nh\u1ea5t"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["\u0110\u1ec3 kh\u1eafc ph\u1ee5c, n\u0103m 2014 c\u01a1 ch\u1ebf ",(0,i.jsx)(e.code,{children:"Bahdanau attention"})," ra \u0111\u1eddi:"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["C\u01a1 ch\u1ebf n\xe0y ch\u1ec9nh s\u1eeda ",(0,i.jsx)(e.code,{children:"encoder-decoder RNN"})," \u0111\u1ec3 decoder c\xf3 th\u1ec3 ",(0,i.jsx)(e.em,{children:"l\u1ef1a ch\u1ecdn c\xe1c hidden state kh\xe1c nhau c\u1ee7a chu\u1ed7i input t\u1ea1i m\u1ed7i b\u01b0\u1edbc decode"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["H\xecnh d\u01b0\u1edbi \u0111\xe2y minh h\u1ecda ",(0,i.jsx)(e.em,{children:"\xfd t\u01b0\u1edfng t\u1ed5ng qu\xe1t"})," c\u1ee7a ",(0,i.jsx)(e.code,{children:"attention"})," ch\u1ee9 kh\xf4ng m\xf4 t\u1ea3 ch\xednh x\xe1c c\xe1ch tri\u1ec3n khai ",(0,i.jsx)(e.em,{children:"Bahdanau"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"alt",src:n(5789).A+"",width:"1177",height:"736"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Sau 3 n\u0103m, ",(0,i.jsx)(e.code,{children:"Transformer"})," g\u1ed1c ra \u0111\u1eddi v\u1edbi c\u01a1 ch\u1ebf ",(0,i.jsx)(e.code,{children:"self-attention"})," l\u1ea5y c\u1ea3m h\u1ee9ng t\u1eeb ",(0,i.jsx)(e.code,{children:"Bahdanau attention"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Ti\u1ebfp theo ch\xfang ta s\u1ebd \u0111i s\xe2u v\xe0o code c\u01a1 ch\u1ebf ",(0,i.jsx)(e.code,{children:"self-attention"})," tr\u01b0\u1edbc khi code c\xe1c ph\u1ea7n kh\xe1c c\u1ee7a LLM gi\u1ed1ng GPT."]}),"\n"]}),"\n"]})]})}function d(s={}){const{wrapper:e}={...(0,l.R)(),...s.components};return e?(0,i.jsx)(e,{...s,children:(0,i.jsx)(r,{...s})}):r(s)}},9188:(s,e,n)=>{n.d(e,{A:()=>a});const a=n.p+"assets/images/attention_01_mechanisms-380d71e0a159529bc0865553574df510.png"},9517:(s,e,n)=>{n.d(e,{A:()=>a});const a=n.p+"assets/images/attention_02_translate-8beade7284d01dafa937c06cab4daa13.png"},9748:(s,e,n)=>{n.d(e,{A:()=>a});const a=n.p+"assets/images/attention_03_rnn-4694325435f404ab495cb3d5162336d6.png"},5789:(s,e,n)=>{n.d(e,{A:()=>a});const a=n.p+"assets/images/attention_04_bahdanau-4c11998403f2532fe7ae58976b9cd10a.png"},8453:(s,e,n)=>{n.d(e,{R:()=>t,x:()=>c});var a=n(6540);const i={},l=a.createContext(i);function t(s){const e=a.useContext(l);return a.useMemo((function(){return"function"==typeof s?s(e):{...e,...s}}),[e,s])}function c(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(i):s.components||i:t(s.components),a.createElement(l.Provider,{value:e},s.children)}}}]);